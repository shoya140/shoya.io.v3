<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="author" href="https://plus.google.com/u/0/102413339779614193497/posts">
    <meta name="keywords" content="GitLab, Git, インストール, セットアップ">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@shoya140">
    <meta name="twitter:creator" content="@shoya140">
    <meta name="twitter:title" content="GitLab 6.0をインストールする">
    <meta name="twitter:image" content="https://shoya.io/assets/img/icon_dot_white.png">
    <meta name="twitter:descroption" content="">
    <meta property="og:type" content="article">
    <meta property="og:title" content="GitLab 6.0をインストールする">
    <meta property="og:url" content="https://shoya.io/blog/gitlab_installation/">
    <meta property="og:image" content="https://shoya.io/assets/img/icon_dot_white.png">
    <meta property="og:descroption" content="">
    <title>GitLab 6.0をインストールする - shoya.io</title>
    <link rel="alternate" type="application/rss+xml" title="shoya.io" href="https://shoya.io/feed.xml">
    <link rel="canonical" href="https://shoya.io/blog/gitlab_installation/">
    <link rel="shortcut icon" href="https://shoya.io/favicon.ico">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oxygen:300,400,700">
</head>

  <body>
    <header class="site-header">
  <div class="wrapper">
    <a href="/"><img class="logo" src="/assets/img/logo.svg"></a>
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
          <a class="page-link" href="/blog/">Blog</a>
          <a class="page-link" href="/publications/">Publications</a>
          <a class="page-link" href="/applications/">Applications</a>
          <a class="page-link" href="http://photo.shoya.io" target="_blank">Photos</a>
          <a class="page-link" href="/aboutme/">About</a>
      </div>
    </nav>
  </div>
</header>

    <div class="page-content">
  <div class="wrapper">
    <div class="wrapper-inside">
      <div class="post">
        <header class="post-header">
          <p class="post-meta">Nov 25, 2013
          
          [<a href="/tag/Engineering/">Engineering</a>]
          
          </p>
          <a href="/blog/gitlab_installation/"><h1 class="post-title">GitLab 6.0をインストールする</h1></a>
        </header>
        <article class="post-content">
          <p><a href="http://gitlab.org/">GitLab</a>とはGitHubクローンのひとつで、ソースコードの管理やコードレビュー、複数人でのプロジェクト開発を円滑にするツールです。<a href="https://github.com/">GitHub</a>との違いは、無料でプライベート(非公開の)リポジトリをいくつでも作ることができる点と、社外・学外のサーバーに機密情報を含むデータを預ける必要がない点にあります。(GitHub Enterpriseとの比較は割愛)</p>

<p>今回は大学の計算機にGit/GitLab環境を構築したので、その手順メモを記しました。<a href="https://github.com/gitlabhq/gitlabhq/blob/6-0-stable/doc/install/installation.md">インストールガイド</a>を参考に、redisの起動など足りないところを補完してあります。<br />GitLabのインストール方法はバージョンによって少しずつ異なります。6.1, 6.2はsidekiqの立ち上げに問題があるので、2013年11月現在は6.0を導入するのが最善かと思われます。</p>

<h2 id="setup-環境"><span class="lsf">setup</span> 環境</h2>
<ul>
  <li>Debian 6.0.8</li>
  <li>GitLab 6.0</li>
  <li>git 1.8.4</li>
  <li>python 2.6.6</li>
  <li>ruby 2.0.0</li>
  <li>redis 2.6.10</li>
  <li>mysql 14.14</li>
  <li>nginx 0.7.67</li>
</ul>

<h2 id="1-導入準備-必要に応じて">1. 導入準備 (必要に応じて)</h2>
<p>GitLabを導入する前に、sudoコマンド、エディタ(Vim)、Git、Python、Ruby、MySQLをインストールします。既にインストールしている場合は<strong>手順2</strong>まで読み飛ばしてください。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># run as root!</span>
apt-get update -y
apt-get upgrade -y
apt-get install sudo -y</code></pre></figure>

<h2 id="11-vimインストール">1.1. Vimインストール</h2>

<p>Vimをインストールして、標準のエディタとして設定。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Install Vim</span>
sudo apt-get install -y vim
sudo update-alternatives --set editor /usr/bin/vim.basic</code></pre></figure>

<h2 id="12-gitインストール">1.2. Gitインストール</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Install git</span>
sudo apt-get install -y git-core

<span class="c"># Make sure Git is version 1.7.10 or higher, for example 1.7.12 or 1.8.4</span>
git --version</code></pre></figure>

<p>Gitのバージョンが1.7.10より小さい場合は以下の手順でアップデート</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Remove packaged Git</span>
sudo apt-get remove git-core

<span class="c"># Install dependencies</span>
sudo apt-get install -y libcurl4-openssl-dev libexpat1-dev gettext libz-dev libssl-dev build-essential

<span class="c"># Download and compile from source</span>
<span class="nb">cd</span> /tmp
curl --progress https://git-core.googlecode.com/files/git-1.8.4.1.tar.gz | tar xz
<span class="nb">cd </span>git-1.8.4.1/
make <span class="nv">prefix</span><span class="o">=</span>/usr/local all

<span class="c"># Install into /usr/local/bin</span>
sudo make <span class="nv">prefix</span><span class="o">=</span>/usr/local install</code></pre></figure>

<p>※Gitを/usr/local/bin/gitにインストールしたので、<strong>手順8</strong>でconfig/gitlab.ymlを編集するときにbin_pathを/usr/local/bin/gitに書き換えること。</p>

<h2 id="13-pythonインストール">1.3. Pythonインストール</h2>

<p>“python2”でpython2.xが起動するように設定する。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Install python</span>
sudo apt-get install -y python

<span class="c"># Make sure that Python is 2.5+ (3.x is not supported at the moment)</span>
python --version

<span class="c"># If it's Python 3 you might need to install Python 2 separately</span>
sudo apt-get install -y python2.7

<span class="c"># Make sure you can access Python via python2</span>
python2 --version

<span class="c"># If you get a "command not found" error create a link to the python binary</span>
sudo ln -s /usr/bin/python /usr/bin/python2

<span class="c"># For reStructuredText markup language support install required package:</span>
sudo apt-get install -y python-docutils</code></pre></figure>

<h2 id="14-ruby-インストール">1.4. Ruby インストール</h2>

<p>システムデフォルトのRubyは1.9.3より古い可能性大なのでアップデート。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Remove the old Ruby 1.8 if present</span>
sudo apt-get remove ruby1.8

<span class="c"># Download and compile from source</span>
mkdir /tmp/ruby <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /tmp/ruby
curl --progress ftp://ftp.ruby-lang.org/pub/ruby/2.0/ruby-2.0.0-p353.tar.gz | tar xz
<span class="nb">cd </span>ruby-2.0.0-p353
./configure --disable-install-rdoc

<span class="c"># Install ruby</span>
make
sudo make install</code></pre></figure>

<p>Bandlerインストール</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo gem install bundler --no-ri --no-rdoc</code></pre></figure>

<h2 id="15-mysqlインストール">1.5 MySQLインストール</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Install the database packages</span>
sudo apt-get install -y mysql-server mysql-client libmysqlclient-dev

<span class="c"># Secure your installation.</span>
sudo mysql_secure_installation</code></pre></figure>

<p>GitLab用にユーザとデータベースを作成</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Login to MySQL</span>
mysql -u root -p

<span class="c"># do not type the 'mysql&gt;', this is part of the prompt</span>
<span class="c"># change $password in the command below to a real password you pick</span>
<span class="gp">mysql&gt; </span>CREATE USER <span class="s1">'gitlab'</span>@<span class="s1">'localhost'</span> IDENTIFIED BY <span class="s1">'$password'</span>;

<span class="c"># Create the GitLab production database</span>
<span class="gp">mysql&gt; </span>CREATE DATABASE IF NOT EXISTS <span class="sb">`</span>gitlabhq_production<span class="sb">`</span> DEFAULT CHARACTER SET <span class="sb">`</span>utf8<span class="sb">`</span> COLLATE <span class="sb">`</span>utf8_unicode_ci<span class="sb">`</span>;

<span class="c"># Grant the GitLab user necessary permissions on the table.</span>
<span class="gp">mysql&gt; </span>GRANT SELECT, LOCK TABLES, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON <span class="sb">`</span>gitlabhq_production<span class="sb">`</span>.<span class="k">*</span> TO <span class="s1">'gitlab'</span>@<span class="s1">'localhost'</span>;

<span class="c"># Quit the database session</span>
<span class="gp">mysql&gt; </span><span class="se">\q</span></code></pre></figure>

<h2 id="2-gitユーザの作成">2. Gitユーザの作成</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo adduser --disabled-login --gecos <span class="s1">'GitLab'</span> git</code></pre></figure>

<p>以降の手順はGitユーザで行います。</p>

<h2 id="3-必要パッケージのインストール">3. 必要パッケージのインストール</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get install -y build-essential zlib1g-dev libyaml-dev libssl-dev libgdbm-dev libreadline-dev libncurses5-dev libffi-dev curl openssh-server redis-server checkinstall libxml2-dev libxslt-dev libcurl4-openssl-dev libicu-dev logrotate</code></pre></figure>

<h2 id="4-gitlab-shellインストール">4. GitLab shellインストール</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> /home/git

<span class="c"># Clone gitlab shell</span>
sudo -u git -H git clone https://github.com/gitlabhq/gitlab-shell.git

<span class="c"># Go to gitlab-shell dir</span>
<span class="nb">cd </span>gitlab-shell

<span class="c"># switch to right version</span>
sudo -u git -H git checkout v1.7.0</code></pre></figure>

<p>config.yml.exampleをもとにconfig.ymlを作成して、http://localhost/のところをGitLabをセットアップするURL(例: http://YOUR_DOMAIN.COM)に書き換える。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Copy config.yml from config.yml.example</span>
sudo -u git -H cp config.yml.example config.yml

<span class="c"># Edit config and replace gitlab_url</span>
<span class="c"># with something like 'http://YOUR_DOMAIN.COM/'</span>
sudo -u git -H editor config.yml</code></pre></figure>

<p>hostsのlocalhostにYOUR_DMAIN.COMを追記する。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Edit hosts</span>
sudo vim /etc/hosts

<span class="c"># Add a new hosts setting like this</span>
127.0.0.1    YOUR_DOMAIN.COM</code></pre></figure>

<p>インストール</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo -u git -H ./bin/install</code></pre></figure>

<h2 id="5-gitlabインストール">5. GitLabインストール</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> /home/git

<span class="c"># Clone GitLab repository</span>
sudo -u git -H git clone https://github.com/gitlabhq/gitlabhq.git gitlab

<span class="c"># Go to gitlab dir</span>
<span class="nb">cd</span> /home/git/gitlab

<span class="c"># Checkout to stable release</span>
sudo -u git -H git checkout 6-0-stable

<span class="c"># Make sure GitLab can write to the log/ and tmp/ directories</span>
sudo chown -R git log/
sudo chown -R git tmp/
sudo chmod -R u+rwX log/
sudo chmod -R u+rwX tmp/

<span class="c"># Create directory for satellites</span>
sudo -u git -H mkdir /home/git/gitlab-satellites

<span class="c"># Create directories for sockets/pids and make sure GitLab can write to them</span>
sudo -u git -H mkdir tmp/pids/
sudo -u git -H mkdir tmp/sockets/
sudo chmod -R u+rwX  tmp/pids/
sudo chmod -R u+rwX  tmp/sockets/

<span class="c"># Create public/uploads directory otherwise backup will fail</span>
sudo -u git -H mkdir public/uploads
sudo chmod -R u+rwX  public/uploads

<span class="c"># Configure Git global settings for git user, useful when editing via web</span>
<span class="c"># Edit user.email according to what is set in gitlab.yml</span>
sudo -u git -H git config --global user.name <span class="s2">"GitLab"</span>
sudo -u git -H git config --global user.email <span class="s2">"gitlab@localhost"</span>
sudo -u git -H git config --global core.autocrlf input</code></pre></figure>

<p>config/gitlab.yml.exampleをもとにconfig/gitlab.ymlを作成して、localhostのところをGitLabをセットアップするURLに編集する。gitのインストール先をusr/local/bin/gitに変更した場合はgit bin_pathも書き換える。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Copy the example GitLab config</span>
sudo -u git -H cp config/gitlab.yml.example config/gitlab.yml

<span class="c"># Make sure to change "localhost" to the fully-qualified domain name of your</span>
<span class="c"># host serving GitLab where necessary</span>
sudo -u git -H editor config/gitlab.yml</code></pre></figure>

<p>config/unicorn.rb.example config/unicorn.rbを作成して編集する。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Copy the example Unicorn config</span>
sudo -u git -H cp config/unicorn.rb.example config/unicorn.rb

<span class="c"># Enable cluster mode if you expect to have a high load instance</span>
<span class="c"># Ex. change amount of workers to 3 for 2GB RAM server</span>
sudo -u git -H editor config/unicorn.rb</code></pre></figure>

<h2 id="6-mysqlとの接続確認">6. MySQLとの接続確認</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Mysql</span>
sudo -u git cp config/database.yml.mysql config/database.yml

<span class="c"># Make sure to update username/password in config/database.yml.</span>
<span class="c"># You only need to adapt the production settings (first part).</span>
<span class="c"># If you followed the database guide then please do as follows:</span>
<span class="c"># Change 'secure password' with the value you have given to $password</span>
<span class="c"># You can keep the double quotes around the password</span>
sudo -u git -H editor config/database.yml

<span class="c"># Make config/database.yml readable to git only</span>
sudo -u git -H chmod o-rwx config/database.yml</code></pre></figure>

<h2 id="7-gemインストール">7. Gemインストール</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> /home/git/gitlab

sudo -u git -H bundle install --deployment --without development <span class="nb">test </span>postgres aws</code></pre></figure>

<h2 id="8-データベース初期化">8. データベース初期化</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Type 'yes' to create the database.</span>
sudo -u git -H bundle <span class="nb">exec </span>rake gitlab:setup <span class="nv">RAILS_ENV</span><span class="o">=</span>production</code></pre></figure>

<h2 id="9-起動ファイル導入">9. 起動ファイル導入</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo rm /etc/init.d/gitlab
sudo curl --output /etc/init.d/gitlab https://raw.github.com/gitlabhq/gitlabhq/6-0-stable/lib/support/init.d/gitlab
sudo chmod +x /etc/init.d/gitlab</code></pre></figure>

<p>サーバー起動時にGitLabが自動起動するよう設定</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo update-rc.d gitlab defaults 21</code></pre></figure>

<h2 id="10-redis起動">10. Redis起動</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo /etc/init.d/redis-server start</code></pre></figure>

<h2 id="11-gitlabの起動">11. GitLabの起動</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">/etc/init.d/gitlab start</code></pre></figure>

<p>停止と再起動は下記の通り。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">/etc/init.d/gitlab stop
/etc/init.d/gitlab restart</code></pre></figure>

<h2 id="12-nginxリバースプロキシの設定">12. Nginx(リバースプロキシ)の設定</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Install nginx</span>
sudo apt-get install -y nginx</code></pre></figure>

<p>gitlab用設定ファイルの導入</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo cp lib/support/nginx/gitlab /etc/nginx/sites-available/gitlab
sudo ln -s /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/gitlab

<span class="c"># Change YOUR_SERVER_FQDN to the fully-qualified</span>
<span class="c"># domain name of your host serving GitLab.</span>
sudo editor /etc/nginx/sites-available/gitlab</code></pre></figure>

<p>Nginx再起動</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo /etc/init.d/nginx restart</code></pre></figure>

<p><img src="/assets/img/blog_gitlab_ss.png" class="image-on-frame image-center" /></p>

<p>以上の設定でhttp://YOUR_DOMAIN.COM/でGitLabへアクセスできます。
管理者アカウントの初期設定は下記のとおりです。</p>
<pre>
User: admin@local.host
Pass: 5iveL!fe
</pre>

<h2 id="トラブルシューティング">トラブルシューティング</h2>

<h2 id="check-httpsプロトコルでgit-cloneできない"><span class="lsf">check</span> httpsプロトコルでgit cloneできない</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git config –global http.sslVerify <span class="nb">false</span></code></pre></figure>

<p>を実行して、証明書チェックを外す。<br />
参考：<a href="http://319ring.net/blog/archives/1164">GIT:リポジトリにHTTPSでアクセスしてみる - 自転車で通勤しましょ♪ブログ</a></p>

<h2 id="check-cant-save-project-please-try-again-later"><span class="lsf">check</span> Can’t save project. Please try again later</h2>

<p>redis-serverをアップデートする</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">echo</span> <span class="s2">"deb http://backports.debian.org/debian-backports squeeze-backports main"</span> &gt;&gt; /etc/apt/sources.list
apt-get update
apt-get -t squeeze-backports install redis-server</code></pre></figure>

<p>参考：<a href="https://github.com/gitlabhq/gitlabhq/issues/3328">“Can’t save project. Please try again later” - GitHub issues</a></p>

<h2 id="check-502-bad-gateway-ページが見つからない"><span class="lsf">check</span> 502 Bad Gateway ページが見つからない</h2>

<p>タイムアウト値を30から180くらいに変更する</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo -u git -H editor config/unicorn.rb</code></pre></figure>

<p>参考：<a href="http://stackoverflow.com/questions/18501406/502-bad-gateway-from-nginx-for-large-gitlab-fork">502 Bad Gateway from Nginx for large GitLab fork - stackoverflow</a></p>

<h2 id="check-gitlab-shell-self-check-failed"><span class="lsf">check</span> gitlab-shell self-check failed</h2>

<p>virtual hostsの設定を取りこぼしてないか確認する</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Edit hosts</span>
sudo vim /etc/hosts

<span class="c"># Add a new hosts setting like this</span>
127.0.0.1    YOUR_DOMAIN.COM</code></pre></figure>

<h2 id="check-その他の問題解決"><span class="lsf">check</span> その他の問題解決</h2>

<p>おかしいなと思ったら、以下のコマンドを実行。<br />
エラーメッセージから原因を見つけて修復する。</p>

<p><strong>・インストール情報の表示</strong></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo -u git -H bundle <span class="nb">exec </span>rake gitlab:env:info <span class="nv">RAILS_ENV</span><span class="o">=</span>production</code></pre></figure>

<p>成功例</p>
<pre>
System information
System:         Debian 6.0.8
Current User:   git
Using RVM:      yes
RVM Version:    1.24.4
Ruby Version:   2.0.0p353
Gem Version:    2.0.14
Bundler Version:1.3.5
Rake Version:   10.1.0

GitLab information
Version:        6.0.2
Revision:       10b0b8f
Directory:      /home/git/gitlab
DB Adapter:     mysql2
URL:            http://YOUR_DOMAIN.COM
HTTP Clone URL: http://YOUR_DOMAIN.COM/some-project.git
SSH Clone URL:  git@YOUR_DOMAIN.COM:some-project.git
Using LDAP:     no
Using Omniauth: no

GitLab Shell
Version:        1.7.0
Repositories:   /home/git/repositories/
Hooks:          /home/git/gitlab-shell/hooks/
Git:            /usr/bin/git
</pre>

<p><strong>・起動確認</strong></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo -u git -H bundle <span class="nb">exec </span>rake gitlab:check <span class="nv">RAILS_ENV</span><span class="o">=</span>production</code></pre></figure>

<p>成功例</p>
<pre>
Checking Environment ...

Git configured for git user? ... yes
Has python2? ... yes
python2 is supported version? ... yes

Checking Environment ... Finished

Checking GitLab Shell ...

GitLab Shell version &gt;= 1.7.9 ? ... OK (1.7.9)
Repo base directory exists? ... yes
Repo base directory is a symlink? ... no
Repo base owned by git:git? ... yes
Repo base access is drwxrws---? ... yes
update hook up-to-date? ... yes
update hooks in repos are links: ... can't check, you have no projects
Running /home/git/gitlab-shell/bin/check
Check GitLab API access: OK
Check directories and files:
        /home/git/repositories: OK
        /home/git/.ssh/authorized_keys: OK
        /usr/bin/redis-cli: OK
gitlab-shell self-check successful

Checking GitLab Shell ... Finished

Checking Sidekiq ...

Running? ... yes
Number of Sidekiq processes ... 1

Checking Sidekiq ... Finished

Checking GitLab ...

Database config exists? ... yes
Database is SQLite ... no
All migrations up? ... yes
GitLab config exists? ... yes
GitLab config outdated? ... no
Log directory writable? ... yes
Tmp directory writable? ... yes
Init script exists? ... yes
Init script up-to-date? ... yes
projects have namespace: ... can't check, you have no projects
Projects have satellites? ... can't check, you have no projects
Redis version &gt;= 2.0.0? ... yes
Your git bin path is "/usr/bin/git"
Git version &gt;= 1.7.10 ? ... yes (1.8.3)

Checking GitLab ... Finished

</pre>

<p>6.2で転けて、6.1で転けて、ここまで設定するのに3日かかった…</p>

        </article>
        <div class="post-relations">
          
        </div>
        <div class="post-social">
          <div class="tweet-button"><a href="https://twitter.com/share?text=GitLab%206.0%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B%20-%20shoya.io&amp;url=https://shoya.io/blog/gitlab_installation/"><span class="lsf" style="font-size:20px;">twitter</span> Tweet</a></div>
          <div class="facebook-button"><a href="http://www.facebook.com/sharer.php?u=https://shoya.io/blog/gitlab_installation/&amp;t=GitLab%206.0%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B" onClick="window.open(encodeURI(decodeURI(this.href)), 'sharewindow', 'width=550, height=450, personalbar=0, toolbar=0, scrollbars=1, resizable=!'); return false;"><span class="lsf" style="font-size:20px;">facebook</span> Share</a></div>
          <div class="hatenabookmark-button"><a href="http://b.hatena.ne.jp/add?mode=confirm&amp;url=https://shoya.io/blog/gitlab_installation/"><span class="lsf" style="font-size:20px;">hatenabookmark</span> Bookmark</a></div>
        </div>
        <div class="pagenation">
          
            <div class="page-button"><a href="/blog/writing/"></a><span class="lsf">left</span> 文章を書く習慣をつけようと思う</div>
          
          
            <div class="page-button"><a href="/blog/frankfurt/"></a>産業の中心地フランクフルト <span class="lsf">right</span></div>
          
        </div>
      </div>
    </div>
  </div>
</div>

    <footer class="site-footer">
  <div class="wrapper-footer">
    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-3">
        <p><span class="lsf">crown</span> 人気の記事</p>
        <ul>
        
          <li>- <a href="/blog/Paletta/" class="linkedTitle">Now loading..</a></li>
        
          <li>- <a href="/blog/zebra/" class="linkedTitle">Now loading..</a></li>
        
          <li>- <a href="/blog/cookpad_internship/" class="linkedTitle">Now loading..</a></li>
        
          <li>- <a href="/blog/hatena_intern/" class="linkedTitle">Now loading..</a></li>
        
          <li>- <a href="/blog/internet_black_market/" class="linkedTitle">Now loading..</a></li>
        
          <li>- <a href="/blog/long_shadow/" class="linkedTitle">Now loading..</a></li>
        
        </ul>
      </div>
      <div class="footer-col  footer-col-3">
        <p><span class="lsf">list</span> 最近の記事</p>
        <ul>
        
          <li>- <a href="/blog/miira/">分報仲間(miiraサンチーム)に参加しています</a></li>
        
          <li>- <a href="/blog/python-setup-2017/">科学技術計算のためのPython開発環境(2017・conda)</a></li>
        
          <li>- <a href="/blog/evernote-shortcuts/">Evernoteに登録すると便利なショートカットキー</a></li>
        
          <li>- <a href="/blog/neuer-wein/">今年もNeuer Weinの季節がやってきた</a></li>
        
          <li>- <a href="/blog/blog-update/">Dropbox Publicフォルダの終了に伴うブログ改修</a></li>
        
          <li>- <a href="/blog/karabiner-hammerspoon-space-hjkl/">Karabiner-ElementsとHammerspoonを使ってSpace+hjklでキー移動する</a></li>
        
        </ul>
      </div>
      <div class="footer-col  footer-col-1">
        <p><span class="lsf">tag</span> 記事のタグ</p>
        
        [<a href="/tag/Note/">Note</a>]
        
        [<a href="/tag/ReleaseNote/">ReleaseNote</a>]
        
        [<a href="/tag/Sightseeing/">Sightseeing</a>]
        
        [<a href="/tag/Engineering/">Engineering</a>]
        
        [<a href="/tag/Design/">Design</a>]
        
        [<a href="/tag/Research/">Research</a>]
        
      </div>
    </div>
    <div class="footer-bio">
      <a href = "https://github.com/shoya140/"><img src="/assets/img/icon_github.png" class="footer-icon"></a>
      <a href = "https://twitter.com/shoya140/"><img src="/assets/img/icon_twitter.png" class="footer-icon"></a>
      <script type="text/javascript" language="javascript">
      function mail(){var s="FI=;NCIHeBL?@tYG;CFNIqMBIS;eCMBCG;LOwAG;CFe=IGY",r="";
      for(i=0;i<s.length;i++)r+=String.fromCharCode((s.charCodeAt(i)+5)%93+33);eval(r);}
        document.write('<a href="javascript:mail()"><img src="/assets/img/icon_mail.png" class="footer-icon"></a>')</script>
      <a href = "/feed.xml"><img src="/assets/img/icon_rss.png" class="footer-icon"></a><br>
      <p>© 2014 - 2017 <a href="https://plus.google.com/102413339779614193497?rel=author">Shoya Ishimaru</a></p>
    </div>
  </div>
</footer>
<script type="text/javascript" src="/assets/js/jquery.1.10.2.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.color.js"></script>
<script src="/assets/js/main.js"></script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1918944-8']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>
